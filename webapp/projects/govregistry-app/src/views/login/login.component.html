<div class="layout-page login-page">
  <div class="page-wrap">
    <header class="navbar fixed-top navbar-empty" *ngIf="_version == 'v1'">
      <img class="" [src]="_header">
    </header>
    <div class="container navless-container">
      <div class="content">
        <div class="flash-container flash-container-page sticky">
          <div class="flash-alert mb-2" *ngIf="errorCode">
            <i class="bi bi-exclamation-triangle s16 mr-2"></i>
            <span>{{ 'APP.MESSAGE.LOGIN.login_' + errorCode | translate }}</span>
            <div class="close-icon-wrapper js-close-icon" (click)="_closeAlert()">
              <i class="bi bi-x-lg"></i>
            </div>
          </div>
          <div class="flash-alert mb-2" *ngIf="!errorCode && error">
            <i class="bi bi-exclamation-triangle s16 mr-2"></i>
            <span>{{ 'APP.MESSAGE.ERROR.Default' | translate }}</span>
            <div class="close-icon-wrapper js-close-icon" (click)="_closeAlert()">
              <i class="bi bi-x-lg"></i>
            </div>
          </div>
        </div>
        <ng-container *ngIf="_version == 'v1'">
          <div class="row mt-3">
            <div class="col-sm-12">
              <h1 class="mb-3 font-weight-normal">
                {{ _title ||  "&nbsp;" }}
              </h1>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6 order-12 order-sm-1 brand-holder">
              <img class="" [src]="_logo">
              <!-- <p dir="auto">Gitlab Laboratory at Link.it</p> -->
            </div>
            <div class="col-md-6 order-1 new-session-forms-container order-sm-12">
              <div id="signin-container">
                <div class="tab-content">
                  <div class="login-box tab-pane active" id="login-pane" role="tabpanel">
                    <div class="login-body">
                      <form novalidate class="new_user gl-show-field-errors js-sign-in-form" [formGroup]="_formGroup" (ngSubmit)="login(_formGroup.value)">
                        <div class="form-group gl-px-5 gl-pt-5">
                          <label for="user_login" class="label-bold">{{ 'APP.LABEL.UsernameEmail' | translate }}</label>
                          <input class="form-control gl-form-input top" id="username" type="text" placeholder="Username" formControlName="username" autofocus="autofocus" autocomplete="on" autocorrect="off">
                          <p *ngIf="f['username'].errors && f['username'].errors['required'] && f['username'].touched" class="help-block text-danger mb-0 gl-field-error">{{ 'APP.MESSAGE.LOGIN.UsernameRequired' | translate }}</p>
                        </div>
                        <div class="form-group gl-px-5">
                          <label class="label-bold" for="user_password">{{ 'APP.LABEL.Password' | translate }}</label>
                          <input class="form-control gl-form-input bottom" id="password" type="password" placeholder="Password" formControlName="password" autocomplete="on" passwordToggle>
                          <p *ngIf="f['password'].errors && f['password'].errors['required'] && f['password'].touched" class="help-block text-danger mb-0 gl-field-">{{ 'APP.MESSAGE.LOGIN.PasswordRequired' | translate }}</p>
                        </div>
                        <div class="gl-px-5 pt-1">
                          <!-- <div class="gl-display-inline-block">
                            <div class="gl-form-checkbox custom-control custom-checkbox"><input name="user[remember_me]"
                                type="hidden" value="0"><input class="custom-control-input" type="checkbox" value="1"
                                name="user[remember_me]" id="user_remember_me"><label class="custom-control-label"
                                for="user_remember_me">Remember me</label></div>
                          </div>
                          <div class="gl-float-right">
                            <a href="/users/password/new">Forgot your password?</a>
                          </div> -->
                        </div>
                        <div></div>
                        <div class="submit-container move-submit-down gl-px-5">
                          <button type="submit" class="gl-button btn btn-block btn-confirm" [disabled]="_formGroup.invalid || loading">
                            {{ 'APP.BUTTON.Login' | translate }} <span class="spinner-border spinner-border-sm ms-2" *ngIf="loading"></span>
                          </button>
                          </div>
                      </form>
                    </div>
                  </div>

                </div>
              </div>

            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="_version == 'v2'">
          <div class="mt-3">
            <div class="col-sm-12 gl-text-center">
              <img alt="Logo" class="" [src]="_logo">
              <h1 class="mb-3 gl-font-size-h2">
                {{ _title || "&nbsp;" }}
              </h1>
            </div>
          </div>
          <div class="mb-3">
            <div class="gl-w-half gl-xs-w-full gl-ml-auto gl-mr-auto bar">
              <div id="signin-container">
                <div class="tab-content">
                  <div class="tab-pane active" id="login-pane" role="tabpanel">
                    <div class="login-body">
                      <form novalidate class="new_user gl-show-field-errors js-sign-in-form" [formGroup]="_formGroup" (ngSubmit)="login(_formGroup.value)">
                        <div class="form-group gl-px-5 gl-pt-5">
                          <label for="user_login" class="label-bold">{{ 'APP.LABEL.UsernameEmail' | translate }}</label>
                          <input class="form-control gl-form-input top" id="username" type="text" placeholder="Username" formControlName="username" autofocus="autofocus" autocomplete="on" autocorrect="off">
                          <p *ngIf="f['username'].errors && f['username'].errors['required'] && f['username'].touched" class="help-block text-danger mb-0 gl-field-error">{{ 'APP.MESSAGE.LOGIN.UsernameRequired' | translate }}</p>
                        </div>
                        <div class="form-group gl-px-5">
                          <label class="label-bold" for="user_password">{{ 'APP.LABEL.Password' | translate }}</label>
                          <input class="form-control gl-form-input bottom" id="password" type="password" placeholder="Password" formControlName="password" autocomplete="on" passwordToggle>
                          <p *ngIf="f['password'].errors && f['password'].errors['required'] && f['password'].touched" class="help-block text-danger mb-0 gl-field-">{{ 'APP.MESSAGE.LOGIN.PasswordRequired' | translate }}</p>
                        </div>
                        <div class="gl-px-5 pt-1">
                          <!-- <div class="gl-display-inline-block">
                            <div class="gl-form-checkbox custom-control custom-checkbox"><input name="user[remember_me]"
                                type="hidden" value="0"><input class="custom-control-input" type="checkbox" value="1"
                                name="user[remember_me]" id="user_remember_me"><label class="custom-control-label"
                                for="user_remember_me">Remember me</label></div>
                          </div>
                          <div class="gl-float-right">
                            <a href="/users/password/new">Forgot your password?</a>
                          </div> -->
                        </div>
                        <div></div>
                        <div class="submit-container move-submit-down gl-px-5">
                          <button type="submit" class="gl-button btn btn-block btn-confirm" [disabled]="_formGroup.invalid || loading">
                            {{ 'APP.BUTTON.Login' | translate }} <span class="spinner-border spinner-border-sm" *ngIf="loading"></span>
                          </button>
                          </div>
                      </form>
                    </div>
                  </div>
                </div>
                <!-- <p class="gl-px-5">
                  By signing in you accept the <a href="/-/users/terms" target="_blank" rel="noreferrer noopener">Terms of Use and
                    acknowledge the Privacy Policy and Cookie Policy</a>.
                </p> -->
                <!-- <p class="gl-mt-3 gl-text-center">
                  Don't have an account yet?
                  <a data-qa-selector="register_link" href="/users/sign_up">Register now</a>
                </p> -->
                <!-- <div class="clearfix">
                </div> -->
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
